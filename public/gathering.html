<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>toGather</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <script src="/socket.io/socket.io.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="styles/header_footer.css">
    <link rel="stylesheet" type="text/css" href="./styles/gathering.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <style type="text/css">

    </style>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="./assets/favicon.ico" rel="shortcut icon" type="image/ico">


</head>

<body>

    <div class='wrap'>



        <!-- ---------------------- header --------------------------- -->
        <!-- #e3f2fd; -->
        <div id="header" style="position: absolute;">
            <nav class="navbar navbar-light fixed-top navbar-expand-lg"
                style="background-color: rgba(255, 255, 255); padding:0%; padding-top: 5px">
                <div class="container-md" style="width: 90%; max-width: 90%; height:60px">

                    <a class="navbar-brand logo name" href="./index.html">
                        <img src="./assets/new_logo2.png" alt="" height="35">
                    </a>
                    <div id="main-header">
                        <div class="collapse navbar-collapse" id="navbarNavDropdown">
                            <ul class="navbar-nav" style="align-items: center;">

                                <li class="nav-item" style="margin: 0 0 0 0;" data-bs-toggle="offcanvas"
                                    data-bs-target="#offcanvasWithBackdrop" aria-controls="offcanvasWithBackdrop">
                                    <a class="nav-link" href="#" style="display: flex;">


                                        <span class="material-icons">
                                            all_inbox
                                        </span>
                                    </a>
                                </li>

                                <li class="nav-item dropdown" style="margin: 0 0 0 0;">
                                    <a class="nav-link" href="#" id="navbarDropdownMenuLink" role="button"
                                        data-bs-toggle="dropdown" aria-expanded="false" style="display: flex;">

                                        <span class="material-icons">
                                            account_circle
                                        </span>
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-lg-end"
                                        aria-labelledby="navbarDropdownMenuLink">
                                        <li><a class="dropdown-item dropdown-sign" href="/sign.html"
                                                style="display: block;">登入</a>
                                        </li>
                                        <li><a class="dropdown-item dropdown-signed" href="/profile.html"
                                                style="display: none;">會員資料</a></li>
                                        <li>
                                            <hr class="dropdown-divider dropdown-signed" style="display: none;">
                                        </li>
                                        <li id=signout><a class="dropdown-item dropdown-signed" href="#"
                                                style="display: none;">登出</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
        <!-- -------------------------------------------------- -->



        <div id="two-column">


            <div id="center">


                <div id="gatheringDetail">



                    <!-- -----------------------------status bar------------------------------------ -->
                    <div class="rating-container">

                        <div class="container-status">
                            <!-- <h5>狀態</h5> -->
                            <div class="skillbox">
                                <div class="html">
                                    <div style="display: flex; justify-content: space-between;">
                                        <h3 style="display: inline;">已開團</h3>
                                        <h3 style="display: inline;">招募中</h3>
                                        <h3 style="display: inline;">已額滿</h3>
                                        <h3 style="display: inline;">已結束</h3>
                                    </div>
                                    <!-- <span class="percentage">90%</span> -->
                                    <div class="cover">
                                        <div class="progressbar" id="progressbar"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ------------------------------------------------------------ -->

                        <div id="left-map"></div>

                        <br>

                        <div class="rating-box" style="position:relative; width: 100%;">
                            <h5 class="rating-boxH1" style="text-align: center;">目前的評分</h5>
                            <div class="ratingResult" style="text-align: center;">
                                <span class="fa fa-star-o" style="font-size:36px; color: gold;"></span>
                                <span class="fa fa-star-o" style="font-size:36px; color: gold;"></span>
                                <span class="fa fa-star-o" style="font-size:36px; color: gold;"></span>
                                <span class="fa fa-star-o" style="font-size:36px; color: gold;"></span>
                                <span class="fa fa-star-o" style="font-size:36px; color: gold;"></span>
                            </div>
                            <p id="rating-description" class="text-muted" style="text-align: center;">目前尚未有人給評分</p>
                            <h4 id="rating-value">
                                </h1>
                        </div>


                        <br>
                        <!-- <form class="col"> -->

                        <div class="rating-box" style="position:relative; width: 100%;">
                            <h5 class="rating-boxH1" style="text-align: center;">我要給評分和評論</h5>
                            <div class="rating" style="text-align: center; cursor: pointer;">
                                <span class="fa fa-star-o" style="font-size:36px; color: gold;" data-bs-toggle="modal"
                                    data-bs-target="#commentModal" data-bs-rating="1"></span>
                                <span class="fa fa-star-o" style="font-size:36px; color: gold;" data-bs-toggle="modal"
                                    data-bs-target="#commentModal" data-bs-rating="2"></span>
                                <span class="fa fa-star-o" style="font-size:36px; color: gold;" data-bs-toggle="modal"
                                    data-bs-target="#commentModal" data-bs-rating="3"></span>
                                <span class="fa fa-star-o" style="font-size:36px; color: gold;" data-bs-toggle="modal"
                                    data-bs-target="#commentModal" data-bs-rating="4"></span>
                                <span class="fa fa-star-o" style="font-size:36px; color: gold;" data-bs-toggle="modal"
                                    data-bs-target="#commentModal" data-bs-rating="5"></span>
                            </div>
                            <h4 id="rating-value">
                                </h1>
                        </div>

                    </div>
                    <!-- -----------------------  mouse ------------------------- -->

                    <!-- <div class="centered">
                        <div class="mouse-scroll"></div>
                    </div> -->


                    <div id="commentList">

                    </div>

                    <!-- ---------------------- comment----------------------- -->

                    <div class="modal fade" id="commentModal" tabindex="-1" aria-labelledby="commentModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="commentModalLabel">New message</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form>

                                        <div class="mb-3">
                                            <label for="message-text" class="col-form-label">Message:</label>
                                            <textarea class="form-control" id="message-text"
                                                placeholder="請在此留下評論（選填）"></textarea>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                                    <button type="button" class="btn btn-primary" id="sendCommentButton">確定送出</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>


            <div id="sticky-block">

                <div class="card" style="display:flex; width: 18rem; align-items: center;" id="action-buttons">
                    <div class="card-body">
                        <h5 class="card-title">有趣的活動正在等著你</h5>

                        <p class="card-text">趕快來參加，和朋友一起享受歡樂時光吧</p>


                        <a href="#" class="btn btn-white btn-animate" id="joinEvent" data-bs-toggle="button"
                            autocomplete="off" style="display: block;">我要加入</a>

                        <a class="btn " id="fullEvent" data-bs-toggle="button" autocomplete="off"
                            style="display: none;">名額已滿</a>

                        <a class="btn " id="expiredEvent" data-bs-toggle="button" autocomplete="off"
                            style="display: none;">活動已結束</a>

                    </div>
                </div>

            </div>

        </div>


        <div id=right style="display:none;" class="position-absolute bottom-0 end-0 p-5">

            <div id=groupChatRoom style="height: 95vh;">

                <h6 style=" text-align: center; margin-top: 10px;">群組聊天室</h6> <a class="btn btn-secondary"
                    id="quitEvent" data-bs-toggle="button" autocomplete="off" style="display: none;">我要退出</a>

                <div class="accordion" id="accordionPanelsStayOpenExample">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="panelsStayOpen-headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true"
                                aria-controls="panelsStayOpen-collapseOne">
                                成員
                            </button>
                        </h2>
                        <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse"
                            aria-labelledby="panelsStayOpen-headingOne">

                            <ul id="participants"></ul>

                        </div>
                    </div>
                </div>

                <!-- <h6 style=" text-align: center;">群組聊天室</h6> -->

                <ul id="messages"></ul>
                <div>
                    <form id="messagesForm" action="">
                        <input id="messageInput" autocomplete="off" /> <button
                            class="btn-send btn-secondary rounded-pill" id="submit-msg">Send</button>
                    </form>
                </div>

            </div>


        </div>

    </div>

    </div>

    <script src="./src/rating.js"></script>

    <!-- --------------------------remove participant---------------------------------------- -->

    <div class="modal fade" id="removeParticipantModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="staticBackdropLabel">注意</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="removeParticipantModalBody">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" id="removeParticipantModalConfirm"
                        data-bs-dismiss="modal">確定</button>
                </div>
            </div>
        </div>
    </div>

    <!-- --------------------------------------------------------------------------- -->

    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasWithBackdrop"
        aria-labelledby="offcanvasWithBackdropLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasWithBackdropLabel">系統訊息</h5>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="card" style="width: 100%;">
                <ul class="list-group list-group-flush" id=sys-message-list>

                </ul>
            </div>
        </div>
    </div>


    <script src="src/gathering.js">


    </script>


    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD27zTlPINo6tDtUUNBLXueZfVKfrL-7jc&callback=initMap&v=weekly"
        async></script>


    <!-- -------------------js for header------------------ -->

    <script src="src/header.js"></script>


</body>

</html>